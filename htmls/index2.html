<html>
<head></head>
<body>

<div id="pieChart"></div>

<script src="d3.min.js"></script>
<script src="d3pie.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

<script>
    
	$(document).ready(function() {
        $.get('/getJSON', function(data, callback){
                console.log(data);
                render(data);
        });
    });
	
function render(data) {

	var tempMap = {};
        var tempArray = [];
        tempMap = { "header": {
                "title": {
                        "text": "Lots of Programming Languages",
                        "fontSize": 30,
                        "font": "open sans"
                },
                "subtitle": {
                        "text": "2016 - 06 - 08 updated...",
                        "color": "#999999",
                        "fontSize": 12,
                        "font": "open sans"
                },
                "titleSubtitlePadding": 9
        },
        "footer": {
                "color": "#999999",
                "fontSize": 10,
                "font": "open sans",
                "location": "bottom-left"
        },
        "size": {
		"canvasHeight": 1080,
                "canvasWidth": 1050,
                "pieOuterRadius": "75%"
        },
        "labels": {
                "outer": {
			"hideWhenLessThanPercentage": 3,
                        "pieDistance": 32
                },
                "inner": {
                        "hideWhenLessThanPercentage": 3,
                },
                "mainLabel": {
                        "fontSize": 11
                },
                "percentage": {
                        "color": "#ffffff",
                        "decimalPlaces": 0
                },
                "value": {
                        "color": "#adadad",
                        "fontSize": 11
                },
                "lines": {
                        "enabled": true
                },
                "truncation": {
                        "enabled": true
                }
        },
        "effects": {
                "pullOutSegmentOnClick": {
                        "effect": "linear",
                        "speed": 800,
                        "size": 8
                }
        },
        "misc": {
                "gradient": {
		 "enabled": true,
                 "percentage": 100
                }
        }
};

tempMap["data"] = {"sortOrder": "value-desc",
                "content": data
};

var pie = new d3pie("pieChart", tempMap);
}

</script>

</body>
</html>
